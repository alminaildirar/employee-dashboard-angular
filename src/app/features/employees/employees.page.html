<h1>Employees</h1>

@if (store.isLoading()) {
<p>Loading...</p>
} @else if (store.error()) {
<p class="error">{{ store.error() }}</p>
<button type="button" (click)="store.refresh()">Retry</button>
} @else {
<div class="actions">
  <button type="button" (click)="store.refresh()">Refresh</button>
</div>

<div class="table">
  <div class="row head">
    <div>Name</div>
    <div>Email</div>
    <div>Role</div>
    <div>Status</div>
  </div>

  @for (e of store.employees(); track e.id) {
  <div class="row">
    <div>
      <a class="name" [routerLink]="['/employees', e.id]">{{ e.fullName }}</a>
    </div>
    <div class="muted">{{ e.email }}</div>
    <div>{{ e.role }}</div>
    <div>
      <span class="badge" [class.inactive]="e.status === 'INACTIVE'">
        {{ e.status }}
      </span>
    </div>
  </div>
  }
</div>
}
